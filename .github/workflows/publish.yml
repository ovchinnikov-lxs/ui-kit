    name: Publish

    on:
        release:
            types: [ edited ]

    jobs:
        publish:
            runs-on: ubuntu-latest
            permissions:
                contents: read
                packages: write
            strategy:
                matrix:
                    node-version: [ 19.x ]
            steps:
                - uses: actions/checkout@v3
                - uses: actions/setup-node@v3
                  with:
                      node-version: ${{ matrix.node-version }}
                      registry-url: 'https://npm.pkg.github.com'
                - run: npm ci
                - run: npm run build
                - run: npm cache verify
                - run: |
                     echo @ovchinnikov-lxs:registry=https://npm.pkg.github.com > .npmrc
                     echo '//npm.pkg.github.com/:_authToken=${{ env.NPM_TOKEN }}' >> .npmrc
                  env:
                      NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
                - run: npm publish
                  env:
                      NODE_AUTH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
